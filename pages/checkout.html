<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Checkout - Design Hub">
    <title>Checkout - Design Hub</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/css/styles.css">

    <style>
        .checkout-container {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: var(--space-8);
        }

        .checkout-section {
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
        }

        .checkout-section h2 {
            font-size: var(--text-2xl);
            margin-bottom: var(--space-6);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-4);
        }

        .discount-input {
            display: flex;
            gap: var(--space-3);
        }

        .discount-input input {
            flex: 1;
        }

        @media (max-width: 768px) {
            .checkout-container {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="/index.html" class="logo">Design Hub</a>

                <nav class="nav">
                    <ul class="nav-links">
                        <li><a href="/index.html" class="nav-link">Home</a></li>
                        <li><a href="/pages/cart.html" class="nav-link">Cart</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container" style="padding: var(--space-12) var(--space-6);">
        <h1 style="font-size: var(--text-4xl); margin-bottom: var(--space-8);">Checkout</h1>

        <div class="checkout-container">
            <!-- Checkout Form -->
            <div>
                <!-- Guest Checkout / Login -->
                <div class="checkout-section">
                    <h2>Contact Information</h2>

                    <div style="display: flex; gap: var(--space-4); margin-bottom: var(--space-6);">
                        <button class="btn btn-secondary" style="flex: 1;">Login</button>
                        <button class="btn btn-primary" style="flex: 1;">Guest Checkout</button>
                    </div>

                    <div class="input-group">
                        <label class="input-label" for="email">Email Address *</label>
                        <input type="email" id="email" class="input" placeholder="your@email.com" required>
                    </div>

                    <div class="input-group">
                        <label class="input-label" for="phone">Phone Number *</label>
                        <input type="tel" id="phone" class="input" placeholder="+91 98765 43210" required>
                    </div>
                </div>

                <!-- Delivery Address -->
                <div class="checkout-section">
                    <h2>Delivery Address</h2>

                    <div class="input-group">
                        <label class="input-label" for="fullname">Full Name *</label>
                        <input type="text" id="fullname" class="input" placeholder="John Doe" required>
                    </div>

                    <div class="input-group">
                        <label class="input-label" for="address">Address Line 1 *</label>
                        <input type="text" id="address" class="input" placeholder="House No., Street Name" required>
                    </div>

                    <div class="input-group">
                        <label class="input-label" for="address2">Address Line 2</label>
                        <input type="text" id="address2" class="input" placeholder="Apartment, Suite, etc. (optional)">
                    </div>

                    <div class="form-row">
                        <div class="input-group">
                            <label class="input-label" for="city">City *</label>
                            <input type="text" id="city" class="input" placeholder="Mumbai" required>
                        </div>

                        <div class="input-group">
                            <label class="input-label" for="state">State *</label>
                            <select id="state" class="input" required>
                                <option value="">Select State</option>
                                <option value="MH">Maharashtra</option>
                                <option value="DL">Delhi</option>
                                <option value="KA">Karnataka</option>
                                <option value="TN">Tamil Nadu</option>
                                <option value="UP">Uttar Pradesh</option>
                                <option value="WB">West Bengal</option>
                                <option value="GJ">Gujarat</option>
                                <option value="RJ">Rajasthan</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="input-group">
                            <label class="input-label" for="pincode">Pincode *</label>
                            <input type="text" id="pincode" class="input" placeholder="400001" maxlength="6" required>
                        </div>

                        <div class="input-group">
                            <label class="input-label" for="country">Country</label>
                            <input type="text" id="country" class="input" value="India" readonly>
                        </div>
                    </div>
                </div>

                <!-- Discount Code -->
                <div class="checkout-section">
                    <h2>Discount Code</h2>

                    <div class="discount-input">
                        <input type="text" class="input" placeholder="Enter discount code" id="discount-code">
                        <button class="btn btn-secondary" onclick="applyDiscount()">Apply</button>
                    </div>

                    <p id="discount-message"
                        style="margin-top: var(--space-3); font-size: var(--text-sm); color: var(--color-text-secondary);">
                    </p>
                </div>
            </div>

            <!-- Order Summary -->
            <div>
                <div class="checkout-section" style="position: sticky; top: 100px;">
                    <h2>Order Summary</h2>

                    <div id="checkout-items" style="margin-bottom: var(--space-6);">
                        <!-- Order items will be rendered here -->
                    </div>

                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span id="checkout-subtotal">₹0</span>
                    </div>

                    <div class="summary-row">
                        <span>Discount</span>
                        <span id="checkout-discount" style="color: var(--color-success);">₹0</span>
                    </div>

                    <div class="summary-row">
                        <span>Shipping</span>
                        <span id="checkout-shipping">₹99</span>
                    </div>

                    <div class="summary-row total">
                        <span>Total</span>
                        <span id="checkout-total">₹0</span>
                    </div>

                    <button class="btn btn-primary" style="width: 100%; margin-top: var(--space-6);"
                        onclick="window.location.href='payment.html'">
                        Proceed to Payment
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer
        style="background: var(--color-bg-tertiary); padding: var(--space-8) 0; margin-top: var(--space-16); border-top: 1px solid var(--color-border);">
        <div class="container text-center">
            <p style="color: var(--color-text-tertiary); font-size: var(--text-sm);">
                © 2026 Design Hub. All rights reserved.
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/js/script.js"></script>
    <script>
        // Render checkout summary
        function renderCheckoutSummary() {
            const cart = JSON.parse(localStorage.getItem('designhub_cart')) || [];
            const itemsContainer = document.getElementById('checkout-items');
            const subtotalEl = document.getElementById('checkout-subtotal');
            const shippingEl = document.getElementById('checkout-shipping');
            const totalEl = document.getElementById('checkout-total');

            if (cart.length === 0) {
                window.location.href = '/pages/cart.html';
                return;
            }

            // Render items
            itemsContainer.innerHTML = cart.map(item => `
        <div style="display: flex; gap: var(--space-3); margin-bottom: var(--space-4); padding-bottom: var(--space-4); border-bottom: 1px solid var(--color-border);">
          <img src="${item.image}" alt="${item.name}" style="width: 60px; height: 80px; object-fit: cover; border-radius: var(--radius-sm);">
          <div style="flex: 1;">
            <div style="font-weight: 600; font-size: var(--text-sm); margin-bottom: var(--space-1);">${item.name}</div>
            <div style="font-size: var(--text-sm); color: var(--color-text-secondary);">Qty: ${item.quantity}</div>
          </div>
          <div style="font-weight: 600;">₹${(item.price * item.quantity).toLocaleString('en-IN')}</div>
        </div>
      `).join('');

            // Calculate totals
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal > 2000 ? 0 : 99;
            const total = subtotal + shipping;

            subtotalEl.textContent = `₹${subtotal.toLocaleString('en-IN')}`;
            shippingEl.textContent = shipping === 0 ? 'FREE' : `₹${shipping}`;
            totalEl.textContent = `₹${total.toLocaleString('en-IN')}`;
        }

        function applyDiscount() {
            const code = document.getElementById('discount-code').value.toUpperCase();
            const message = document.getElementById('discount-message');

            if (code === 'DESIGN10') {
                message.textContent = '✓ 10% discount applied!';
                message.style.color = 'var(--color-success)';
            } else if (code === 'FIRST20') {
                message.textContent = '✓ 20% discount applied!';
                message.style.color = 'var(--color-success)';
            } else {
                message.textContent = '✗ Invalid discount code';
                message.style.color = 'var(--color-error)';
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', renderCheckoutSummary);
    </script>

</body>

</html>